(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},73:function(e,t,n){"use strict";var a,o,s=n(0),i=n.n(s),r=n(22),l=n(27),p=n(104),c=n.n(p),d=n(171),u=n(16),g=function(e,t,n,a,o){var s={EmailId:e,DisplayName:t,Mobile:n,PhoneCode:a,Otp:o};return fetch("/railways/api/pushProfileData",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){console.log("err...",e)}))},m=n(52),h=(n(115),n(83)),f=n(114),b=function(e){var t=e.setReCaptchaResponse,n=e.siteKey,a=Object(s.useRef)(null);return i.a.createElement(f.a,{ref:a,style:{display:"flex",justifyContent:"center",width:"100%"},sitekey:n,onChange:function(e){e?t(e):(a.current.reset(),t(""))}})},O=n(37),S=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w=l.default.div(o||(o=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  background: url(",") no-repeat;\n"],["\n  background: url(",") no-repeat;\n"])),(function(e){return e.bgUrl})),_=function(e){function t(t){var n=e.call(this,t)||this;n.togglePhoneCodeModal=function(){n.setState((function(e){return{showPhoneCodeModal:!e.showPhoneCodeModal}}))},n.setReCaptchaResponse=function(e){n.setState({reCaptchaResponse:e})},n.reload=function(){n.props.isCancelTicket?location.href="/railways/user/trips":n.props.fromWalletBanner?location.href="/":window.parent.location.reload()},n.changePhoneCode=function(e){n.setState({showPhoneCodeModal:!1,phoneCode:e.currentTarget.getAttribute("data-code")})},n.showLoaderCb=function(){n.setState((function(e){return{showLoader:!e.showLoader}}))},n.closeSignInModal=function(){var e=n.props,t=e.closeSigninCb,a=e.handleUnlockWallet;sessionStorage.loggedInReddeal&&sessionStorage.removeItem("loggedInReddeal"),n.setState({closeSigninModal:"My trips"!=n.props.triggerPage},(function(){t&&t()})),a&&a()},n.updateMobileNo=function(e){for(var t,a=Object(h.a)(),o=n.state.phoneCode,s=0;s<a.length;s+=1)o===a[s].PhoneCode&&(t=a[s].MaxLength);var i=e.target.value;n.setState({mobileNo:i.slice(0,t)},(function(){n.props.mobileNo&&n.state.mobileNo.length===n.props.mobileNo.length&&n.state.mobileNo!==n.props.mobileNo&&Object(m.a)(n.props.wrong_no_message)}))},n.cleanAndValidateNum=function(){var e=sessionStorage.getItem("contactPicker")&&JSON.parse(sessionStorage.getItem("contactPicker")),t=n.state.mobileNo||e,a=n.props.countryCodeRegex,o=n.state,s=o.phoneCode,i=o.mobileNo;if(a[s]){var r=a[s];if(r.RegexModify){var l=new RegExp(r.RegexModify,"i"),p=t&&t.replace(l,"");if(p!==i)n.setState({mobileNo:p},(function(){if(r.RegexMandate){var e=new RegExp(r.RegexMandate,"i").test(p);return{mobNo:p,isValid:e}}return{mobNo:p,isValid:!0}}));else if(r.RegexMandate)return{mobNo:t,isValid:new RegExp(r.RegexMandate,"i").test(t)};return{mobNo:t,isValid:!0}}return r.RegexMandate?{mobNo:t,isValid:new RegExp(r.RegexMandate,"i").test(t)}:{mobNo:t,isValid:!0}}return{mobNo:t,isValid:!0}},n.updateOptinStatusAndCheckNumber=function(e){n.setState({isWhatsappOtpOpted:e},(function(){n.checkNumber()}))},n.checkNumber=function(){var e,t,a=n.cleanAndValidateNum(),o=a.mobNo,s=a.isValid,i=n.props.pageConfig;s?(n.setState({showLoader:!0}),(e=o,t=n.state.phoneCode,fetch("/railways/api/checkNumber?number="+e+"&cc="+t).then((function(e){return e.json()})).then((function(e){return e?"10.21"===e.Code||"10.9"===e.Code?(e.isValidNum=!0,"10.21"===e.Code?e.isSignedInUser=!0:e.isSignedInUser=!1):e.isValidNum=!1:e.numExists=!1,e})).catch((function(){return{numExists:!1}}))).then((function(e){e.isValidNum?n.setState({statusMsg:"",isSignedInUser:e.isSignedInUser},(function(){n.getOtp()})):e.DetailedMessage?n.setState({showLoader:!1,statusMsg:e.DetailedMessage}):n.setState({showLoader:!1,statusMsg:i.locale.invalid_mobile_msg})}))):n.setState({statusMsg:i.locale.invalid_mobile_msg})},n.updateStatusAndGetOtp=function(e){n.setState({isWhatsappOtpOpted:e},(function(){n.getOtp()}))},n.getOtp=function(){var e=n.state,t=(e.mobileNo,e.phoneCode),a=e.isWhatsappOtpOpted,o=e.reCaptchaResponse,s=n.props,i=s.pageConfig,l=s.isTruecallerOTP,p=(s.triggerPage,localStorage.tcProfileObj?JSON.parse(localStorage.tcProfileObj):""),c=l?p.mobileNo:n.state.mobileNo;(function(e,t,n,a,o,s){return fetch("/railways/api/getOtpV2?number="+e+"&cc="+t+"&whatsAppOpted="+a+"&disableOtpFlow="+o+"&reCaptchaResponse="+s).then((function(e){return e.json()})).then((function(e){return"10.25"===e.Code||"10.35"===e.Code||"10.36"===e.Code||"10.41"===e.Code||"100000"===e.Code?e.isOtpSent=!1:e.isOtpSent=!0,e})).catch((function(){return{Code:"10.32",Message:n,isOtpSent:!1}}))})(c,t,i.locale.proccess_err_msg,a,i.disableOtpFlow,o).then((function(e){if(e.isOtpSent){if(window.elasticApm&&!a){var o=window.elasticApm.startTransaction("GET OTP","custom"),s=Object(r.b)("userSessionId")+"_"+Object(r.b)("userSessionCookie");o.addLabels({unique_user_session_id:s,funneltype:"BUS",userMobileNumber:t+c,isOtpSent:!0,userAgent:navigator.userAgent||"",platform:navigator.platform,appCodeName:navigator.appCodeName}),o.end()}n.setState({showOtpBlock:!0,showLoader:!1,hideSocial:!0,disableResendOtp:!0},(function(){n.startResendOtpTimer()}))}else n.setState({showLoader:!1,statusMsg:e.Message})}))},n.startResendOtpTimer=function(){var e=setInterval((function(){n.state.resendOtpTimer>0?n.setState((function(e){return{resendOtpTimer:e.resendOtpTimer-1}})):(clearInterval(e),n.setState({disableResendOtp:!1,resendOtpTimer:n.props.pageConfig.resendOtpTimer}))}),1e3)},n.editNumHandler=function(){n.setState({showOtpBlock:!1,statusMsg:"",otpInput:"",disableResendOtp:!1,isInvalidOtp:!1})},n.otpSetHandler=function(e,t){n.setState({otpInput:e&&e.target&&e.target.value||t})},n.otpFieldSetHandler=function(){var e=document.getElementById("otp1").value+document.getElementById("otp2").value+document.getElementById("otp3").value+document.getElementById("otp4").value+document.getElementById("otp5").value+document.getElementById("otp6").value;n.setState({otpInput:e})},n.resendOtpClickHandler=function(){var e=n.state,t=e.resendTries,a=e.disableResendOtp;t>0&&!a&&(n.setState((function(e){return{showLoader:!0,resendTries:e.resendTries-1}})),n.getOtp())},n.submitOtpHandler=function(e){void 0===e&&(e=!1),"home"===n.props.triggerPage&&Object(O.f)("Dweb_rail_home_login","Submitted","","","",!0);var t=n.state,a=t.otpInput,o=t.isInvalidOtp;6!==a.length?n.setState({isInvalidOtp:!0}):o?n.setState({isInvalidOtp:!1,showLoader:!0},(function(){n.signInOrSignUp(!1,!1,e)})):n.setState({showLoader:!0},(function(){sessionStorage.walletstatus=!0,sessionStorage.softLoginStatus=e;var t="true"===sessionStorage.isAuditFlow||!0===sessionStorage.isAuditFlow;n.props.isTruecallerOTP&&(t=!1),n.props.isGFTWalletNonVerified?g(n.state.userEmail,"",n.state.mobileNo,n.state.phoneCode,n.state.otpInput).then((function(e){n.setState({closeSigninModal:!0}),n.reload()})):n.signInOrSignUp(t,!1,e)}))},n.signInOrSignUp=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var o,s,i,l,p,c,d,u,h=localStorage.tcProfileObj?JSON.parse(localStorage.tcProfileObj):"",f=n.props.isTruecallerOTP?h.mobileNo:n.state.mobileNo,b=!!h.isNewUser;if(n.state.isSignedInUser||a||0==b&&n.props.isTruecallerOTP){if(window.elasticApm){var O=window.elasticApm.startTransaction("Login","custom"),S=Object(r.b)("userSessionId")+"_"+Object(r.b)("userSessionCookie");O.addLabels({unique_user_session_id:S,"Login Type":"otp"}),O.end()}(o=f,s=n.state.otpInput,i=n.state.phoneCode,l=n.props.pageConfig.locale.signin_err_msg,n.props.isQrFlow,p=n.props.isTruecallerOTP,n.props.isPers,n.props.triggerPage,c=n.state.isWhatsappConsentSelected,d=n.props.isNitroLoginTriggered,u={LoginType:"mobileno",Mobile:o,Otp:s,PhoneCode:i,authtoken:Object(r.b)("ums")?Object(r.b)("ums"):"",isTcOtpFlow:p,WhatsAppOptin:c},fetch("/railways/api/signIn",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var t=e.success?"SUCCESS":"FAILURE";if(d&&"SUCCESS"==t&&(sessionStorage.softLoginStatus=!1),p&&"SUCCESS"==t&&sessionStorage.setItem("qrOfferLoginTriggered","true"),e.success){var n=localStorage.tcProfileObj?JSON.parse(localStorage.tcProfileObj):"";n.isNewUser,n&&(localStorage.tcNewUserFlowCompleted=!0),!0!==e.IsWalletEnabled&&null!==e.IsWalletEnabled||(u.EmailId=e.PEmail,e.triggerLogin=!0)}else e.triggerLogin=!1;return e})).catch((function(e){return{DetailedMessage:l,triggerLogin:!1}}))).then((function(e){e.triggerLogin?(n.props.benefitLogin&&sessionStorage.setItem("benefitLogin","true"),n.props.fromWalletBanner&&n.state.mobileNo!==sessionStorage.getItem("walletCampaignNo")&&Object(r.a)("walletBannerExpiry"),Object(r.c)("ums",e.authtoken,525600),Object(r.c)("lastloginmode","MOBILENUMBER"),Object(r.c)("me_uidhash",e.UserIdHash,525600),n.reload()):(n.setState({showLoader:!1}),e.DetailedMessage?Object(m.a)(e.DetailedMessage):Object(m.a)(n.props.pageConfig.locale.signin_err_msg))}))}else if(!n.props.hideUserDetails&&!e||n.props.isTruecallerOTP)window.elasticApm&&(O=window.elasticApm.startTransaction("Login","custom"),S=Object(r.b)("userSessionId")+"_"+Object(r.b)("userSessionCookie"),O&&O.addLabels({unique_user_session_id:S,"Login Type":"otp - signup"}),O&&O.end()),function(e,t,n,a,o,s,i,r,l,p,c,d){var u={EmailId:a,Name:o,Mobile:e,Password:"",Otp:t,PhoneCode:n,isQrFlow:i,isTcOtpFlow:r,WhatsAppOptin:c};return fetch("/railways/api/signUp",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var t=e.success?"SUCCESS":"FAILURE";return d&&"SUCCESS"==t&&(sessionStorage.softLoginStatus=!1),r&&"SUCCESS"==t&&sessionStorage.setItem("qrOfferLoginTriggered","true"),e.success?(!!(localStorage.tcProfileObj?JSON.parse(localStorage.tcProfileObj):"").isNewUser&&(localStorage.tcNewUserFlowCompleted=!0),e.triggerSignUp=!0):e.triggerSignUp=!1,e})).catch((function(e){return{DetailedMessage:s,triggerSignUp:!1}}))}(f,n.state.otpInput,n.state.phoneCode,n.state.userBlockMail,n.state.userBlockName,n.props.pageConfig.locale.signup_err_msg,n.props.isQrFlow,n.props.isTruecallerOTP,n.props.isPers,n.props.triggerPage,n.state.isWhatsappConsentSelected,n.props.isNitroLoginTriggered).then((function(e){e.triggerSignUp?(n.props.benefitLogin&&sessionStorage.setItem("benefitLogin","true"),n.props.fromWalletBanner&&n.state.mobileNo!==sessionStorage.getItem("walletCampaignNo")&&Object(r.a)("walletBannerExpiry"),Object(r.c)("ums",e.authtoken,525600),Object(r.c)("lastloginmode","MOBILENUMBER"),Object(r.c)("me_uidhash",e.UserIdHash,525600),n.setState({showOtpBlock:!1,showUserDetailsBlock:!0,showLoader:!1,closeSigninModal:!!n.props.isTruecallerOTP}),n.props.isTruecallerOTP&&window.parent.location.reload()):(n.setState({showLoader:!1}),e.DetailedMessage?Object(m.a)(e.DetailedMessage):Object(m.a)(n.props.pageConfig.locale.signin_err_msg,n.props.isQrFlow))}));else if(t){var C=new RegExp("^[-a-z0-9~!$%^&*_=+}{\\'?]+(\\.[-a-z0-9~!$%^&*_=+}{\\'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$");if(""===n.state.userBlockMail||C&&!C.test(n.state.userBlockMail))return n.setState({showLoader:!1}),void Object(m.a)(n.props.pageConfig.locale.valid_email_err_msg);if(""===n.state.userBlockName||n.state.userBlockName.length<2||-1!==n.state.userBlockName.indexOf("  "))return n.setState({showLoader:!1}),void Object(m.a)(n.props.pageConfig.locale.valid_name_err_msg);g(n.state.userBlockMail,n.state.userBlockName,n.state.mobileNo,n.state.phoneCode,n.state.otpInput).then((function(e){})),n.reload()}else"true"==sessionStorage.isAuditFlow||1==sessionStorage.isAuditFlow?n.setState({showOtpBlock:!1,showUserDetailsBlock:!0,showLoader:!1}):n.reload()},n.updateDetailsHandler=function(e,t){"email"===t?n.setState({userBlockMail:e.target.value}):"name"===t&&n.setState({userBlockName:e.target.value})},n.signInUserWithEmail=function(e,t,a,o){var s=n.props.pageConfig;if(window.elasticApm){var i=window.elasticApm.startTransaction("Login","custom"),l=Object(r.b)("userSessionId")+"_"+Object(r.b)("userSessionCookie");i.addLabels({unique_user_session_id:l,"Login Type":"email"}),i.end()}(function(e,t,n,a,o){var s={EmailId:e,Logintype:"SOCIAL",socialProfile:{AccessToken:t,Type:n},IsOptIn:!0};return o&&(s.socialProfile.IdToken=o),fetch("/railways/api/signIn",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){return e.success?(e.PEmail,e.PMobile,e.triggerLogin=!0):e.triggerLogin=!1,e})).catch((function(){return{DetailedMessage:a,triggerLogin:!1}}))})(e.email,t,a,s.locale.signin_err_msg,o).then((function(e){e.triggerLogin?(Object(r.c)("ums",e.authtoken,525600),Object(r.c)("lastloginmode",a),Object(r.c)("me_uidhash",e.UserIdHash,525600),n.reload()):(n.setState({showLoader:!1}),e.DetailedMessage?Object(m.a)(e.DetailedMessage):Object(m.a)(s.locale.signin_err_msg))}))},n.remLastLogin=function(){n.setState({lastLoginData:null,showOtpBlock:!1})},n.toggleWhatsappConsent=function(){n.setState({isWhatsappConsentSelected:!n.state.isWhatsappConsentSelected})};var a=n.props,o=a.showSignIn,s=a.bgUrl,i=a.showOtp,l=(a.hideSocial,a.pageConfig),p=a.lastLoginData,c=a.hideCloseBtn;return a.isTruecallerOTP,a.tcPhoneNumber,a.walletCheck,a.fromWalletBanner,n.state={closeSigninModal:!!o&&!o,bgUrl:l.enableNewLoginPage?s||l.loginImageBanner:s||"/public/images/payment_offers.png",phoneCode:l.defaultPhoneCode,showPhoneCodeModal:!1,mobileNo:"",showLoader:!1,statusMsg:"",isSignedInUser:!1,showOtpBlock:i,hideSocial:l.hideSocial||!0,resendTries:l.resendOtpTry,resendOtpTimer:l.resendOtpTimer,otpInput:"",disableResendOtp:!1,isInvalidOtp:!1,showUserDetailsBlock:!1,userBlockMail:"",userBlockName:"",lastLoginData:p||null,hideCloseBtn:c||!1,isWhatsappOtpOpted:!1,isWhatsappConsentSelected:l.whatsappConsentDefaultSelected,reCaptchaResponse:""},n}return S(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.hideSocial;Object(r.b)("ums")&&Object(r.b)("lastloginmode")&&!this.state.lastLoginData&&fetch("/api/profileInfo").then((function(e){return e.json()})).then((function(n){var a=null,o=n;e.setState({userEmail:o.PEmail});var s=Object(r.b)("lastloginmode");o.tokenFailed||("MOBILENUMBER"===s?o.PMobile&&(a={mode:s,maskedMobile:o.PMobile,phoneCode:o.PhoneCode}):t||(a={mode:s,userName:o.DisplayName.split(" ")[0]})),a&&e.setState({lastLoginData:a,mobileNo:a.maskedMobile,phoneCode:a.phoneCode})}));var n=this.state.lastLoginData;n&&n.maskedMobile&&this.setState((function(e){return{mobileNo:e.lastLoginData.maskedMobile,phoneCode:e.lastLoginData.phoneCode}})),this.props.fromWalletBanner&&sessionStorage.walletCampaignNo&&this.setState({mobileNo:sessionStorage.getItem("walletCampaignNo")})},t.prototype.getLoginWithButtonsForWhatsApp=function(e){var t=this;return e.locale.optWhatsAppFirst?i.a.createElement(i.a.Fragment,null,i.a.createElement(L,{btnClickHandler:function(){return t.updateOptinStatusAndCheckNumber(!0)},imgUrl:"/public/images/wht_signin.svg",isWhatsapp:!0,btnLbl:e.locale.send_whatsapp_otp_cta,autoId:"send-otp-whatsapp"}),i.a.createElement(L,{btnClickHandler:function(){return t.updateOptinStatusAndCheckNumber(!1)},imgUrl:"/public/images/sms_signin.svg",btnLbl:e.locale.send_sms_cta,autoId:"send-otp-sms",additionalClass:"sms-secondary"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(L,{btnClickHandler:function(){return t.updateOptinStatusAndCheckNumber(!1)},imgUrl:"/public/images/sms_signin.svg",btnLbl:e.locale.send_sms_cta,autoId:"send-otp-sms"}),i.a.createElement(L,{btnClickHandler:function(){return t.updateOptinStatusAndCheckNumber(!0)},imgUrl:"/public/images/wht_signin.svg",isWhatsapp:!0,btnLbl:e.locale.send_whatsapp_otp_cta,autoId:"send-otp-whatsapp"}))},t.prototype.render=function(){var e,t=this,n=this.state,a=n.lastLoginData,o=n.showOtpBlock,s=n.showUserDetailsBlock,r=n.phoneCode,l=n.mobileNo,p=n.statusMsg,u=(n.hideSocial,n.resendTries),g=n.otpInput,m=n.disableResendOtp,h=n.resendOtpTimer,f=n.isInvalidOtp,O=(n.closeSigninModal,n.bgUrl,n.hideCloseBtn,n.showLoader,n.showPhoneCodeModal,n.isWhatsappOtpOpted),S=n.isWhatsappConsentSelected,C=this.props,_=C.pageConfig,P=C.page,j=C.isTruecallerOTP,B=C.tcPhoneNumber,U=this.props.contextualLoginText,R=!(!_||!_.enableNewLoginPage),D=!(!_||!_.isWhatsappConsentEnabled),H=!(!_||!_.enableMultipleFieldOtp);return window&&window.parent&&window.parent.location&&"/bus-timetable"==window.parent.location.pathname&&(U=_.locale.sign_in_persuasion_msg_btt),e=!a||a&&"MOBILENUMBER"===a.mode&&_.disableOtpFlow?o?i.a.createElement(i.a.Fragment,null,R&&H?i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:"modal_header"},U||_.locale.verify_otp_header),i.a.createElement(k,{pageConfig:_,mobileNo:j?B:l,phoneCode:r,resendTries:u,otpInput:g,disableResendOtp:m,resendOtpTimer:h,isInvalidOtp:f,isWhatsappOtpOpted:O,otpFieldSetHandler:this.otpFieldSetHandler,editNumHandler:this.editNumHandler,resendOtpClickHandler:this.resendOtpClickHandler,submitOtpHandler:this.submitOtpHandler,isTruecallerOTP:j})):i.a.createElement(i.a.Fragment,null,R?i.a.createElement("h4",{className:"modal_header"},U||_.locale.verify_otp_header):i.a.createElement("h4",{className:"sign_modal_head modal_head_red"},U||_.locale.sign_in_persuasion_msg),i.a.createElement(M,{pageConfig:_,mobileNo:j?B:l,phoneCode:r,resendTries:u,otpInput:g,disableResendOtp:m,resendOtpTimer:h,isInvalidOtp:f,isWhatsappOtpOpted:O,otpSetHandler:this.otpSetHandler,editNumHandler:this.editNumHandler,resendOtpClickHandler:this.resendOtpClickHandler,submitOtpHandler:this.submitOtpHandler,isTruecallerOTP:j,enableNewLoginPage:R}))):s?i.a.createElement(y,{pageConfig:_,updateDetailsHandler:this.updateDetailsHandler,updateProfile:this.signInOrSignUp}):i.a.createElement(i.a.Fragment,null,R?i.a.createElement("h4",{className:"sign_modal_head modal_head_black"},U||i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"signin_headers make_bold"},_.locale.sign_in_persuasion_header_first)," ",_.locale.signin_or," ",i.a.createElement("span",{className:"signin_headers make_bold"},_.locale.sign_in_persuasion_header_second))):i.a.createElement("h4",{className:"sign_modal_head"},U||_.locale.sign_in_persuasion_msg),!_.disableOtpFlow&&i.a.createElement(N,{pageConfig:_,phoneCode:r,togglePhoneCodeModal:this.togglePhoneCodeModal,mobileNo:l,updateMobileNo:this.updateMobileNo,statusMsg:p}),R&&D&&i.a.createElement(E,{pageConfig:_,defaultChecked:S,toggleWhatsappConsent:this.toggleWhatsappConsent}),_.otpWhatsapp&&this.getLoginWithButtonsForWhatsApp(_),!_.disableOtpFlow&&!_.otpWhatsapp&&i.a.createElement(i.a.Fragment,null,i.a.createElement(b,{setReCaptchaResponse:this.setReCaptchaResponse,siteKey:_.recaptchaSiteKeyDesktop}),i.a.createElement(L,{btnClickHandler:function(){return t.updateOptinStatusAndCheckNumber(!1)},btnLbl:i.a.createElement("span",null,_.locale.generate_otp_cta,i.a.createElement("span",{className:"no_bold"}," ",_.locale.one_time_password)),autoId:"signin-send-otp",disabled:""===this.state.reCaptchaResponse})),i.a.createElement(i.a.Fragment,null,!this.props.pageConfig.hideSocial&&i.a.createElement(I,{pageConfig:_,signInUserWithEmail:this.signInUserWithEmail,showLoaderCb:this.showLoaderCb,triggerPage:this.props.triggerPage}),i.a.createElement(v,{pageConfig:_}))):i.a.createElement(T,{pageConfig:_,lastLoginData:a,contextualLoginText:U,page:P,statusMsg:p,showOtpBlock:o,resendTries:u,otpInput:g,disableResendOtp:m,resendOtpTimer:h,isInvalidOtp:f,otpSetHandler:this.otpSetHandler,resendOtpClickHandler:this.resendOtpClickHandler,submitOtpHandler:this.submitOtpHandler,otpClickHandler:this.updateStatusAndGetOtp,editNumHandler:this.remLastLogin,signInUserWithEmail:this.signInUserWithEmail,showLoaderCb:this.showLoaderCb}),this.state.closeSigninModal?null:(this.props.contextualBannerHeader?this.props.contextualBannerHeader:this.props.pageConfig.locale.main_banner_msg_1,this.props.contextualBannerSubHeader?this.props.contextualBannerSubHeader:this.props.pageConfig.locale.main_banner_msg_2,this.props.closeClass&&this.props.closeClass,i.a.createElement(d.a,null,i.a.createElement("div",{className:"signin_overlay"},i.a.createElement("div",{className:"signin_modal_container"},i.a.createElement(w,{className:"signin_background",bgUrl:"/railways/public/images/desktop-payment-offers.svg"},i.a.createElement("div",{className:"banner_txt"},i.a.createElement("p",null,"Unlock the Smarter way to Travel"))),i.a.createElement("div",{className:"signin_main"},i.a.createElement("div",{className:"close-page-image"},i.a.createElement("span",{className:"icon icon-cross close_page_icon","data-autoid":"signin-close",onClick:this.closeSignInModal})),i.a.createElement("h2",{className:"signin_heading"},"SignIn to avail exciting discounts and Cashbacks!"),i.a.createElement("div",{className:"main_body"},e),this.state.showLoader&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{size:"3.5rem",color:"#d84e55"}),i.a.createElement("div",{className:"overlay"})))))))},t}(i.a.Component),N=function(e){return i.a.createElement(u.a,{load:function(){return n.e(13).then(n.bind(null,173))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},E=function(e){return i.a.createElement(u.a,{load:function(){return n.e(32).then(n.bind(null,174))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},L=function(e){return i.a.createElement(u.a,{load:function(){return n.e(24).then(n.bind(null,70))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},I=function(e){return i.a.createElement(u.a,{load:function(){return n.e(25).then(n.bind(null,175))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},v=function(e){return i.a.createElement(u.a,{load:function(){return n.e(27).then(n.bind(null,176))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},y=function(e){return i.a.createElement(u.a,{load:function(){return n.e(28).then(n.bind(null,177))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},M=function(e){return i.a.createElement(u.a,{load:function(){return n.e(20).then(n.bind(null,113))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},k=function(e){return i.a.createElement(u.a,{load:function(){return n.e(20).then(n.bind(null,178))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},T=function(e){return i.a.createElement(u.a,{load:function(){return n.e(17).then(n.bind(null,179))}},(function(t){return null==t?"":i.a.createElement(t,C({},e))}))},P=function(){return(P=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.a=function(e){var t,n,a,o=document.getElementById("accountDataDump")?JSON.parse(document.getElementById("accountDataDump").getAttribute("data")):e&&e.unescapeData?JSON.parse(unescape(JSON.parse(document.getElementById("dataDump").getAttribute("data")))):JSON.parse(document.getElementById("dataDump").getAttribute("data")),s=null,l=e&&e.contextualLoginText||"";if(o.languageConfig&&o.languageConfig.LayoutLanguageConfig?(t=o.languageConfig.LayoutLanguageConfig.SignIn,n=o.languageConfig.LayoutLanguageConfig.CountryCodeRegex):o.layoutLanguageConfig?(t=o.layoutLanguageConfig.SignIn,n=o.layoutLanguageConfig.CountryCodeRegex):(t=o.LayoutLanguageConfig.SignIn,n=o.LayoutLanguageConfig.CountryCodeRegex),Object(r.b)("ums")&&Object(r.b)("lastloginmode")){var p=Object(r.b)("lastloginmode");e.profileData&&((a=e.profileData).tokenFailed||("MOBILENUMBER"===p?a.PMobile&&(s={mode:p,maskedMobile:a.PMobile,phoneCode:a.PhoneCode}):e.hideSocial||(s={mode:p,userName:a.DisplayName.split(" ")[0]})))}return i.a.createElement(_,P({},e,{pageConfig:t,countryCodeRegex:n,lastLoginData:s,contextualLoginText:l}))}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){return[{CountryCode:"IND",DisplayString:"+91 (India)",MaxLength:10,MinLength:10,PhoneCode:"91"}]}}}]);